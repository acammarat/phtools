# qpoints

Extracts phonon eigenvectors and eigenvalues from the file *qpoints.yaml* generated by [PHONOPY]( https://phonopy.github.io/phonopy).

## Installation

The code requires a fortran compiler. After cloning, enter the folder and compile it with

`make`

If the compilation ends successfully, the executable **qpoints** is created.

## Usage

The reference structure file and the corresponding FORCE_CONSTANTS file, the latter generated by PHONOPY, must be present in the folder where qpoints is executed.

The format of the input file is


```

string                phonopy executable including command line options;
                      it is necessary to specify the unit cell with 
                      -c unit_cell_file if different than POSCAR
string                POSCAR file of the unit cell
int int int           mesh used to generate the FORCE_CONSTANTS file
int                   nskip number of modes to skip (e.g. acoustic, rotational)
int int ... int int   (q,j) list of modes to skip
int                   number of q-points
double double double  reduced components of the first q-point
...
double double double  reduced components of the last q-point


```

where `int` is an integer number, `double` is a real number of type double and `string` a string of type char. The command line syntax can be shown by using the `-h` option:

```

$ qpoints -h
                     _       _        
    __ _ _ __   ___ (_)_ __ | |_ ___  
   / _` | '_ \ / _ \| | '_ \| __/ __| 
  | (_| | |_) | (_) | | | | | |_\__ \ 
   \__, | .__/ \___/|_|_| |_|\__|___/ 
      |_|_|                           
                              1.4

 Syntax: qpoints <setting file>

```

After the execution the files qmatrix.nd and freq.nd are created. If these files are meant to be used for Normal Dynamics simulations with [PINDOL](https://github.com/acammarat/pindol/tree/main/pindol), then it is better to prepare the list of q-points with the tool [q4phind](https://github.com/acammarat/pindol/tree/main/q4phind).

## Example

The folder example contains the necessary files to test the code. The *qpt.inp* file is an example of input file. 

## Citation

The users of **qpoints** have little formal obligations specified in the [GNU General Public License](http://www.gnu.org/copyleft/gpl.txt).
However, it is common practice in the scientific literature, to acknowledge the efforts of people that have made the research possible.
In this spirit, please cite

A. Cammarata, M. Dasic and P. Nicolini, *Normal Dynamics: solving Newtonâ€™s equations of motion in the reciprocal space*, DOI: [https://dx.doi.org/10.2139/ssrn.4550608](https://dx.doi.org/10.2139/ssrn.4550608)

